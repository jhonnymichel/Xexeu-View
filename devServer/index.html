<html>
  <head>

  </head>
  <body id="app">
    <form xexeu-submit="onClick">
      <input type="checkbox" xexeu-model="isChecked">
      <h1>Add a new user!</h1>
      What is the new user name?: <input type="text" xexeu-model="newUser.name">
      What is the new user age?: <input type="text" xexeu-model="newUser.age">
      <p>
        Click 'Add User' to submit the user
        <span xexeu-bind="newUser.name"></span>, of age <span xexeu-bind="newUser.age"></span>
      </p>
      <button>Add User!</button>
    </form>
    <h2>
      Edward Elric is <span xexeu-bind="users['Edward Elric'].age"></span> yo!
    </h2>
    <div>
      <p>The box is checked? <span xexeu-bind="isChecked"></span></p>
    </div>
    <p>
      There are currently
      <span xexeu-bind="usersLength"></span>
      users!
    </p>
    <script src="./xexeu-view.js"></script>
    <script type="text/javascript">
      window.Xexeu = new Xexeu({
        node: '#app',
        viewModel: {
          newUser: {name: null, age: null},
          users: {
            ['John Doe']: {
              age: 14
            },
            ['Mary Foe']: {
              age: 55
            }
          },
          isChecked: true,
          usersLength: 2,
        },
        methods: {
          onClick(e) {
            this.users = Object.assign({}, this.users, {
              [this.newUser.name]: {
                age: this.newUser.age
              }
            });
            this.usersLength = Object.keys(this.users).length;
            this.newUser = {
              name: '',
              age: '',
            }
            e.preventDefault();
          }
        }
      });
    </script>
  </body>
</html>
